<!DOCTYPE html>
<html lang="da">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Login - Tekst-til-tale</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='login.css') }}">
</head>

<body>
    <div class="logo-container">
        <img src="{{ url_for('static', filename='gladsaxe-logo.png') }}" alt="Gladsaxe Kommune" class="kommune-logo">
    </div>

    <div class="language-toggle">
        <button id="lang-da" class="lang-btn active" data-lang="da">🇩🇰</button>
        <button id="lang-en" class="lang-btn" data-lang="en">🇬🇧</button>
    </div>

    <div class="login-container">
        <div class="login-box">
            <h1 data-i18n="loginTitle">🔐 Login</h1>

            {% with messages = get_flashed_messages(with_categories=true) %}
            {% if messages %}
            {% for category, message in messages %}
            <div class="alert alert-{{ category }}">{{ message }}</div>
            {% endfor %}
            {% endif %}
            {% endwith %}

            <form action="{{ url_for('login') }}" method="POST">
                <div class="form-group">
                    <label for="username" data-i18n="usernameLabel">Brugernavn:</label>
                    <input type="text" id="username" name="username" required autofocus>
                </div>

                <div class="form-group">
                    <label for="password" data-i18n="passwordLabel">Adgangskode:</label>
                    <input type="password" id="password" name="password" required>
                </div>

                <button type="submit" class="btn-primary" data-i18n="loginButton">Login</button>
            </form>

            {% if azure_ad_enabled %}
            <div class="divider">
                <span data-i18n="orDivider">eller</span>
            </div>

            <a href="{{ url_for('login_azure') }}" class="btn-microsoft">
                <svg width="21" height="21" viewBox="0 0 21 21" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <rect width="10" height="10" fill="#f25022" />
                    <rect x="11" width="10" height="10" fill="#00a4ef" />
                    <rect y="11" width="10" height="10" fill="#7fba00" />
                    <rect x="11" y="11" width="10" height="10" fill="#ffb900" />
                </svg>
                <span data-i18n="signInMicrosoft">Log ind med Microsoft</span>
            </a>
            {% endif %}

            {% if allow_registration %}
            <div class="auth-link">
                <p><span data-i18n="registerPrompt">Har du ikke en konto?</span> <a
                        href="{{ url_for('register') }}"><span data-i18n="registerLink">Registrer her</span></a></p>
            </div>
            {% endif %}
        </div>
    </div>

    <script src="{{ url_for('static', filename='auth.js') }}"></script>
</body>

</html>